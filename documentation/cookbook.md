# Кулінарна книга (Cookbook)

Цей документ містить покрокові інструкції ("рецепти") для виконання найпоширеніших завдань у QuantumTrader.

## Рецепт 1: Запуск бота в реальному (Live) режимі

Цей рецепт показує, як запустити бота для реальної торгівлі на одній або кількох парах.

**Завдання:** Запустити `EmaTrendFollowingStrategy` для пар `BTCUSDT` та `ETHUSDT`.

### Кроки

1.  **Відкрийте головний файл конфігурації:** `configs/config.yaml`.

2.  **Налаштуйте його:** Вкажіть потрібні символи та увімкніть бажану стратегію.

    ```yaml
    # configs/config.yaml

    symbols:
      - BTCUSDT
      - ETHUSDT

    enabled_strategies:
      - EmaTrendFollowingStrategy

    strategy_settings:
      EmaTrendFollowingStrategy: "configs/strategies/ema_trend_following.yaml"

    # ... ваші торгові параметри ...
    trading_parameters:
      margin_per_trade_pct: 0.1
      leverage: 10
      # ... і т.д.
    ```

3.  **Налаштуйте параметри стратегії (опціонально):** Відкрийте `configs/strategies/ema_trend_following.yaml` та змініть параметри, якщо потрібно.

4.  **Запустіть бота:** У терміналі виконайте команду:

    ```bash
    python main.py
    ```

### Очікуваний результат

У консолі ви побачите логи, що свідчать про запуск бота, підключення до WebSocket та моніторинг зазначених символів. Бот автоматично почне шукати торгові сигнали.

---

## Рецепт 2: Запуск бектесту (тестування на історичних даних)

Цей рецепт показує, як протестувати ефективність стратегії на історичних даних.

**Завдання:** Протестувати `MACrossoverStrategy` на парі `BTCUSDT` за перший квартал 2023 року.

### Кроки

1.  **Відкрийте скрипт для бектесту:** `run_backtest.py`.

2.  **Змініть параметри:** Внесіть зміни безпосередньо у файл, вказавши потрібну стратегію, параметри, символ та часовий проміжок.

    ```python
    # run_backtest.py

    # ... (імпорти)

    async def run_backtest():
        # --- 1. Налаштування параметрів бектесту ---
        strategy_params = {
            'fast_ma': 12,
            'slow_ma': 26,
            'stop_loss_pct': 0.02,
            'take_profit_pct': 0.04
        }
        
        symbol = "BTCUSDT"
        start_date = "2023-01-01"
        end_date = "2023-03-31"
        initial_balance = 10000.0

        # --- 2. Ініціалізація ---
        strategy = MACrossoverStrategy(
            strategy_id=f"MACrossover_{symbol}",
            symbol=symbol,
            params=strategy_params
        )
        # ... (решта коду)
    ```

3.  **Запустіть скрипт:**

    ```bash
    python run_backtest.py
    ```

### Очікуваний результат

Скрипт завантажить історичні дані, прожене по них логіку стратегії та виведе у консоль звіт про результати: загальний прибуток/збиток, кількість угод, відсоток прибуткових угод тощо.

> **Примітка для розробників:**
> Поточна реалізація `run_backtest.py` не дуже гнучка. Рекомендується модифікувати цей скрипт, щоб він приймав параметри (символ, дати, назву стратегії) через аргументи командного рядка (наприклад, за допомогою бібліотеки `argparse`), замість того, щоб щоразу редагувати файл.

---

## Рецепт 3: Додавання нового торгового символу

**Завдання:** Додати `SOLUSDT` до списку моніторингу для `EmaTrendFollowingStrategy`.

### Кроки

1.  **Відкрийте `configs/config.yaml`**.
2.  **Додайте `SOLUSDT` до списку `symbols`**.

    ```yaml
    symbols:
      - BTCUSDT
      - ETHUSDT
      - SOLUSDT # <--- Додано новий символ
    ```

3.  **Перезапустіть бота** (`Ctrl+C` та `python main.py`).

### Очікуваний результат

Після перезапуску бот почне моніторити `SOLUSDT` разом з іншими символами.
